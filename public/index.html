<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación KYC - Análisis de Riesgo</title>
    <style>
        /* Estilos generales */
        body { font-family: sans-serif; margin: 0; background-color: #f0f2f5; color: #333; }
        .container { display: flex; height: 100vh; }

        /* Barra lateral de casos */
        .sidebar { width: 300px; background-color: #fff; padding: 20px; border-right: 1px solid #ddd; }
        .sidebar h2 { font-size: 1.2em; }
        .sidebar p { font-size: 0.9em; color: #666; }
        .casos-lista { list-style: none; padding: 0; margin-top: 20px; }
        .caso {
            padding: 10px 15px; margin-bottom: 10px; border-radius: 50px;
            cursor: pointer; transition: background-color 0.3s, color 0.3s;
            background-color: #eee; text-align: center; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center; font-weight: bold;
        }
        .caso:hover { background-color: #ddd; }
        .caso.activo { background-color: #007bff; color: white; }

        /* Contenido principal */
        .main-content { flex-grow: 1; padding: 40px; overflow-y: auto; }
        .perfil-card, .riesgo-card {
            background-color: #fff; border-radius: 8px;
            padding: 25px; margin-bottom: 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .perfil-card h3, .riesgo-card h3 { margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px;}
        .perfil-info p, .riesgo-info p { margin: 10px 0; }
        .perfil-info strong, .riesgo-info strong { color: #0056b3; }
        .riesgo-nivel { padding: 5px 10px; border-radius: 5px; color: white; font-weight: bold; }
        .riesgo-nivel.bajo { background-color: #28a745; }
        .riesgo-nivel.medio { background-color: #ffc107; color: #333; }
        .riesgo-nivel.alto { background-color: #dc3545; }

    </style>
</head>
<body>

<div class="container">
    <div class="sidebar">
        <h2>Evaluación KYC - Análisis de Riesgo AML/CFT</h2>
        <p><strong>Evaluador:</strong> roberto_azpiri</p>
        <p><strong>Tipo:</strong> Evaluación Rápida (5 casos)</p>
        <ul id="casos-lista" class="casos-lista">
            </ul>
    </div>

    <div class="main-content" id="main-content">
        <div class="perfil-card">
             <h3 id="caso-titulo">Selecciona un caso para comenzar</h3>
             <div id="perfil-info" class="perfil-info"></div>
        </div>
        <div class="riesgo-card">
            <h3>Análisis de Riesgo Detallado</h3>
            <div id="riesgo-info" class="riesgo-info"></div>
        </div>
        </div>
</div>

<script>
    // --- PARTE 2: BASE DE DATOS CON RIESGOS DETALLADOS ---
    const usuarios = [
        {
            id: 1,
            nombre: "Yu Chen",
            nacionalidad: "China",
            ocupacion: "Estudiante de Intercambio",
            volumenOperaciones: "$1,000 mensuales",
            riesgos: {
                geografico: { nivel: 'Medio', justificacion: 'Nacionalidad de un país con mayor vigilancia en listas de sanciones.' },
                transaccional: { nivel: 'Bajo', justificacion: 'Volumen de operaciones bajo y consistente con perfil de estudiante.' },
                instrumento: { nivel: 'Bajo', justificacion: 'Uso de transferencias bancarias estándar.' },
                actividad: { nivel: 'Bajo', justificacion: 'Actividad económica (estudiante) no considerada de alto riesgo.'},
                pep: { nivel: 'Bajo', justificacion: 'No se encontraron coincidencias como Persona Políticamente Expuesta.'}
            }
        },
        {
            id: 2,
            nombre: "Daniel Cruz",
            nacionalidad: "Mexicana",
            ocupacion: "Desarrollador Fintech",
            volumenOperaciones: "$20,000 mensuales",
            riesgos: {
                geografico: { nivel: 'Bajo', justificacion: 'Nacionalidad y residencia en país de bajo riesgo para la operación.' },
                transaccional: { nivel: 'Medio', justificacion: 'Volumen de operaciones elevado, requiere monitoreo de la fuente de los fondos.' },
                instrumento: { nivel: 'Medio', justificacion: 'Posible uso de criptoactivos o instrumentos complejos ligados a su actividad.' },
                actividad: { nivel: 'Medio', justificacion: 'El sector Fintech es considerado de riesgo inherente medio-alto.'},
                pep: { nivel: 'Bajo', justificacion: 'No se encontraron coincidencias como PEP.'}
            }
        },
        // Agrega los casos 3, 4 y 5 aquí con la misma estructura
        {
            id: 3,
            nombre: "Ana Robles",
            nacionalidad: "Venezolana",
            ocupacion: "Consultora Independiente",
            volumenOperaciones: "$5,000 mensuales",
            riesgos: {
                geografico: { nivel: 'Alto', justificacion: 'Nacionalidad de un país listado en jurisdicciones de alto riesgo (GAFI). Requiere debida diligencia reforzada.' },
                transaccional: { nivel: 'Bajo', justificacion: 'Volumen de operaciones moderado y justificado por su actividad.' },
                instrumento: { nivel: 'Bajo', justificacion: 'Uso de transferencias internacionales estándar.' },
                actividad: { nivel: 'Bajo', justificacion: 'Consultoría no es una actividad de alto riesgo inherente.'},
                pep: { nivel: 'Bajo', justificacion: 'No se encontraron coincidencias como PEP.'}
            }
        },
        {
            id: 4,
            nombre: "Hans Muller",
            nacionalidad: "Alemana",
            ocupacion: "Importador/Exportador de Maquinaria",
            volumenOperaciones: "$150,000 mensuales",
            riesgos: {
                geografico: { nivel: 'Bajo', justificacion: 'Nacionalidad y residencia en país de bajo riesgo.' },
                transaccional: { nivel: 'Alto', justificacion: 'Volumen muy elevado y transacciones transfronterizas frecuentes. Crucial el conocimiento del origen y destino de fondos.' },
                instrumento: { nivel: 'Medio', justificacion: 'Uso de cartas de crédito y transferencias internacionales de alto valor.' },
                actividad: { nivel: 'Alto', justificacion: 'El comercio internacional es un sector de alto riesgo para el lavado de dinero (facturación falsa, etc.).'},
                pep: { nivel: 'Bajo', justificacion: 'No se encontraron coincidencias como PEP.'}
            }
        },
        {
            id: 5,
            nombre: "Laura Méndez",
            nacionalidad: "Mexicana",
            ocupacion: "Notaria Pública",
            volumenOperaciones: "$35,000 mensuales",
            riesgos: {
                geografico: { nivel: 'Bajo', justificacion: 'Nacionalidad y residencia local.' },
                transaccional: { nivel: 'Medio', justificacion: 'Manejo de fondos de terceros y operaciones de alto valor.' },
                instrumento: { nivel: 'Bajo', justificacion: 'Instrumentos bancarios tradicionales.' },
                actividad: { nivel: 'Alto', justificacion: 'Las actividades vulnerables (fedatarios públicos) son de alto riesgo por su rol en la creación de empresas y transacciones inmobiliarias.'},
                pep: { nivel: 'Medio', justificacion: 'Identificada como PEP por ser cónyuge de un funcionario de gobierno municipal. Requiere monitoreo continuo.'}
            }
        }
    ];

    // --- PARTE 1: LÓGICA DE FUNCIONALIDAD CORREGIDA ---
    const casosLista = document.getElementById('casos-lista');
    const casoTitulo = document.getElementById('caso-titulo');
    const perfilInfo = document.getElementById('perfil-info');
    const riesgoInfo = document.getElementById('riesgo-info');

    // Función para mostrar el perfil y los riesgos
    function mostrarInfo(usuario) {
        casoTitulo.textContent = `Caso ${usuario.id} de 5: ${usuario.nombre}`;
        
        // Mostrar información del perfil
        perfilInfo.innerHTML = `
            <p><strong>Nacionalidad:</strong> ${usuario.nacionalidad}</p>
            <p><strong>Ocupación:</strong> ${usuario.ocupacion}</p>
            <p><strong>Volumen de Operaciones:</strong> ${usuario.volumenOperaciones}</p>
        `;

        // Mostrar análisis de riesgo detallado
        const riesgos = usuario.riesgos;
        riesgoInfo.innerHTML = `
            <p><strong>Riesgo Geográfico:</strong> <span class="riesgo-nivel ${riesgos.geografico.nivel.toLowerCase()}">${riesgos.geografico.nivel}</span> - ${riesgos.geografico.justificacion}</p>
            <p><strong>Riesgo Transaccional:</strong> <span class="riesgo-nivel ${riesgos.transaccional.nivel.toLowerCase()}">${riesgos.transaccional.nivel}</span> - ${riesgos.transaccional.justificacion}</p>
            <p><strong>Riesgo por Instrumento Monetario:</strong> <span class="riesgo-nivel ${riesgos.instrumento.nivel.toLowerCase()}">${riesgos.instrumento.nivel}</span> - ${riesgos.instrumento.justificacion}</p>
            <p><strong>Riesgo por Actividad/Profesión:</strong> <span class="riesgo-nivel ${riesgos.actividad.nivel.toLowerCase()}">${riesgos.actividad.nivel}</span> - ${riesgos.actividad.justificacion}</p>
            <p><strong>Riesgo PEP:</strong> <span class="riesgo-nivel ${riesgos.pep.nivel.toLowerCase()}">${riesgos.pep.nivel}</span> - ${riesgos.pep.justificacion}</p>
        `;
    }

    // Función para seleccionar un caso
    function seleccionarCaso(id) {
        // Quitar la clase 'activo' de todos los casos
        document.querySelectorAll('.caso').forEach(caso => caso.classList.remove('activo'));
        // Añadir la clase 'activo' al caso seleccionado
        document.getElementById(`caso-${id}`).classList.add('activo');

        // Encontrar el usuario y mostrar su información
        const usuarioSeleccionado = usuarios.find(u => u.id === id);
        if (usuarioSeleccionado) {
            mostrarInfo(usuarioSeleccionado);
        }
    }

    // Generar la lista de casos al cargar la página
    window.onload = () => {
        usuarios.forEach(usuario => {
            const li = document.createElement('li');
            li.className = 'caso';
            li.id = `caso-${usuario.id}`;
            li.textContent = usuario.id;
            li.onclick = () => seleccionarCaso(usuario.id);
            casosLista.appendChild(li);
        });

        // Opcional: Seleccionar el primer caso por defecto
        seleccionarCaso(1);
    };
</script>

</body>
</html>

